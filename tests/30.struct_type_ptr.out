@[translated]
module main

// Test struct pointer type conversion
// Types like 'struct foo_struct *' should convert to '&Foo_struct'
// Bug: 'struct ' was being replaced globally, so 'diff_queue_struct *' became
// 'diff_queue_*'
struct My_queue_struct {
	value int
}

// Function with struct pointer parameter - tests the type conversion
fn process_queue(queue &My_queue_struct) {
	queue.value = 42
}

// Function pointer typedef with struct pointer argument
type Queue_fn_t = fn (&My_queue_struct, int)

fn use_callback(callback Queue_fn_t) {
	q := My_queue_struct{}
	callback(&q, 1)
}
